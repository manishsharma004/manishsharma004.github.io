/*! pro.jsonlint.com 2021-07-19 */

var diff=function(f,t){var i,n={};for(i=0;i<f.length;i++)n[f[i]]=n[f[i]]||[],n[f[i]].push(i);var e,r,c,o,s=[];for(e=r=c=0,o=0;o<t.length;o++){var l=[];for(n[t[o]]=n[t[o]]||[],i=0;i<n[t[o]].length;i++){var a=n[t[o]][i];l[a]=(a&&s[a-1]||0)+1,l[a]>c&&(e=a-(c=l[a])+1,r=o-c+1)}s=l}if(0!==c)return[].concat(diff(f.slice(0,e),t.slice(0,r)),[["=",t.slice(r,r+c)]],diff(f.slice(e+c),t.slice(r+c)));var u=[];return f.length&&u.push(["-",f]),t.length&&u.push(["+",t]),u},stringDiff=function(f,t){return diff(f,t)},htmlDiff=function(f,t){var i,n,e,r=[];for(i={"=":function(f){return f},"+":function(f){return"<ins>"+f+"</ins>"},"-":function(f){return"<del>"+f+"</del>"}},n=stringDiff(f,t),e=0;e<n.length;e++){var c=n[e];r.push(i[c[0]](c[1]))}return r.join("")},checkDiff=function(f,t){var i,n=diff(f=[f],t=[t]),e=[],r=[];for(i=0;i<n.length;i++)switch(n[i][0]){case"-":e=e.concat(n[i][1]);break;case"+":r=r.concat(n[i][1]);break;default:e=e.concat(n[i][1]),r=r.concat(n[i][1])}console.assert(JSON.stringify(f)===JSON.stringify(e),"Expected",f,"got",e),console.assert(JSON.stringify(t)===JSON.stringify(r),"Expected",t,"got",r)};"object"==typeof module&&(module.exports={diff:diff,htmlDiff:htmlDiff,stringDiff:stringDiff,checkDiff:checkDiff});